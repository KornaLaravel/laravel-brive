import{aK as j,bv as V,bl as B,bw as P,f as w,a as o,u as d,w as c,F as k,bx as D,o as i,X as U,b as s,j as m,v as h,d as N,t as n,c as y,aO as T,aQ as A,be as E}from"./app-9172825b.js";import{_ as F,a as J}from"./AuthenticatedLayout-54c2b580.js";import{a as G}from"./TextInput-5fb8cc21.js";import{_ as K}from"./PrimaryButton-5538c6e6.js";import{_ as L}from"./SelectInput-79dadcad.js";import{_ as g}from"./DangerButton-6798d286.js";import{_ as M,a as Q}from"./InfoButton-aa917aee.js";import{T as x,h as _,P as X}from"./SwitchLangNavbar-6c66c5a2.js";import q from"./Create-c30463b2.js";import z from"./Edit-3decbae2.js";import H from"./Delete-27d58097.js";import R from"./DeleteBulk-e8035e8a.js";import{_ as W}from"./Checkbox-752cfa95.js";import"./SecondaryButton-d727c941.js";const Y={class:"space-y-4"},Z={class:"px-4 sm:px-0"},ee={class:"rounded-lg overflow-hidden w-fit"},se={class:"relative bg-white dark:bg-slate-800 shadow sm:rounded-lg"},te={class:"flex justify-between p-2"},le={class:"flex space-x-2"},ae={class:"overflow-x-auto scrollbar-table"},oe={class:"w-full"},re={class:"uppercase text-sm border-t border-slate-200 dark:border-slate-700"},ne={class:"dark:bg-slate-900/50 text-left"},de={class:"px-2 py-4 text-center"},ie=s("th",{class:"px-2 py-4 text-center"},"#",-1),pe={class:"flex justify-between items-center"},ce={class:"flex justify-between items-center"},me=s("span",null,"Guard",-1),ue={class:"flex justify-between items-center"},fe={class:"flex justify-between items-center"},he=s("th",{class:"px-2 py-4 sr-only"},"Action",-1),_e={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},be=["value"],we={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},ye={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ve={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ke={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ge={class:"whitespace-nowrap py-4 px-2 sm:py-3"},xe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},$e={class:"flex justify-center items-center"},Oe={class:"rounded-md overflow-hidden"},Ce={class:"flex justify-between items-center p-2 border-t border-slate-200 dark:border-slate-700"},Ge={__name:"Index",props:{title:String,filters:Object,permissions:Object,breadcrumbs:Object,perPage:Number},setup(u){const r=u,{_:$,debounce:O,pickBy:C}=D,e=j({params:{search:r.filters.search,field:r.filters.field,order:r.filters.order,perPage:r.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,permission:null,dataSet:V().props.app.perpage}),f=a=>{e.params.field=a,e.params.order=e.params.order==="asc"?"desc":"asc"};B(()=>$.cloneDeep(e.params),O(()=>{let a=C(e.params);P.get(route("permission.index"),a,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const I=a=>{var t;a.target.checked===!1?e.selectedId=[]:(t=r.permissions)==null||t.data.forEach(p=>{e.selectedId.push(p.id)})},S=()=>{var a;((a=r.permissions)==null?void 0:a.data.length)==e.selectedId.length?e.multipleSelect=!0:e.multipleSelect=!1};return(a,t)=>{const p=A("tooltip");return i(),w(k,null,[o(d(U),{title:r.title},null,8,["title"]),o(F,null,{default:c(()=>[o(J,{title:u.title,breadcrumbs:u.breadcrumbs},null,8,["title","breadcrumbs"]),s("div",Y,[s("div",Z,[s("div",ee,[m(o(K,{class:"rounded-none",onClick:t[0]||(t[0]=l=>e.createOpen=!0)},{default:c(()=>[N(n(a.lang().button.add),1)]),_:1},512),[[h,a.can(["create permission"])]]),o(q,{show:e.createOpen,onClose:t[1]||(t[1]=l=>e.createOpen=!1),title:r.title},null,8,["show","title"]),o(z,{show:e.editOpen,onClose:t[2]||(t[2]=l=>e.editOpen=!1),permission:e.permission,title:r.title},null,8,["show","permission","title"]),o(H,{show:e.deleteOpen,onClose:t[3]||(t[3]=l=>e.deleteOpen=!1),permission:e.permission,title:r.title},null,8,["show","permission","title"]),o(R,{show:e.deleteBulkOpen,onClose:t[4]||(t[4]=l=>(e.deleteBulkOpen=!1,e.multipleSelect=!1,e.selectedId=[])),selectedId:e.selectedId,title:r.title},null,8,["show","selectedId","title"])])]),s("div",se,[s("div",te,[s("div",le,[o(L,{modelValue:e.params.perPage,"onUpdate:modelValue":t[5]||(t[5]=l=>e.params.perPage=l),dataSet:e.dataSet},null,8,["modelValue","dataSet"]),m((i(),y(g,{onClick:t[6]||(t[6]=l=>e.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:c(()=>[o(d(x),{class:"w-5 h-5"})]),_:1})),[[h,e.selectedId.length!=0&&a.can(["delete permission"])],[p,a.lang().tooltip.delete_selected]])]),o(G,{modelValue:e.params.search,"onUpdate:modelValue":t[7]||(t[7]=l=>e.params.search=l),type:"text",class:"block w-3/6 md:w-2/6 lg:w-1/6 rounded-lg",placeholder:a.lang().placeholder.search},null,8,["modelValue","placeholder"])]),s("div",ae,[s("table",oe,[s("thead",re,[s("tr",ne,[s("th",de,[o(W,{checked:e.multipleSelect,"onUpdate:checked":t[8]||(t[8]=l=>e.multipleSelect=l),onChange:I},null,8,["checked"])]),ie,s("th",{class:"px-2 py-4 cursor-pointer",onClick:t[9]||(t[9]=l=>f("name"))},[s("div",pe,[s("span",null,n(a.lang().label.name),1),o(d(_),{class:"w-4 h-4"})])]),s("th",{class:"px-2 py-4 cursor-pointer",onClick:t[10]||(t[10]=l=>f("guard"))},[s("div",ce,[me,o(d(_),{class:"w-4 h-4"})])]),s("th",{class:"px-2 py-4 cursor-pointer",onClick:t[11]||(t[11]=l=>f("created_at"))},[s("div",ue,[s("span",null,n(a.lang().label.created),1),o(d(_),{class:"w-4 h-4"})])]),s("th",{class:"px-2 py-4 cursor-pointer",onClick:t[12]||(t[12]=l=>f("updated_at"))},[s("div",fe,[s("span",null,n(a.lang().label.updated),1),o(d(_),{class:"w-4 h-4"})])]),he])]),s("tbody",null,[(i(!0),w(k,null,T(u.permissions.data,(l,v)=>(i(),w("tr",{key:v,class:"border-t border-slate-200 dark:border-slate-700 hover:bg-slate-200/30 hover:dark:bg-slate-900/20"},[s("td",_e,[m(s("input",{class:"rounded dark:bg-slate-900 border-slate-300 dark:border-slate-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-slate-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:S,value:l.id,"onUpdate:modelValue":t[13]||(t[13]=b=>e.selectedId=b)},null,40,be),[[E,e.selectedId]])]),s("td",we,n(++v),1),s("td",ye,n(l.name),1),s("td",ve,n(l.guard_name),1),s("td",ke,n(l.created_at),1),s("td",ge,n(l.updated_at),1),s("td",xe,[s("div",$e,[s("div",Oe,[m((i(),y(Q,{type:"button",onClick:b=>(e.editOpen=!0,e.permission=l),class:"px-2 py-1.5 rounded-none"},{default:c(()=>[o(d(X),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[h,a.can(["update permission"])],[p,a.lang().tooltip.edit]]),m((i(),y(g,{type:"button",onClick:b=>(e.deleteOpen=!0,e.permission=l),class:"px-2 py-1.5 rounded-none"},{default:c(()=>[o(d(x),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[h,a.can(["delete permission"])],[p,a.lang().tooltip.delete]])])])])]))),128))])])]),s("div",Ce,[o(M,{links:r.permissions,filters:e.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{Ge as default};
