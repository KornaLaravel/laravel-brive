import{O as I,z as j,Q as b,R as V,g as w,a as l,b as n,w as p,F as x,o as d,H as B,d as s,h as c,v as _,e as D,c as v,D as N,r as P,C as U,t as m}from"./app-ca577fa4.js";import{_ as A,a as E}from"./AuthenticatedLayout-2708d8be.js";import{a as F}from"./TextInput-56afc9df.js";import{_ as k}from"./PrimaryButton-4e0ddc79.js";import{_ as H}from"./SelectInput-ed23fbec.js";import{_ as $}from"./DangerButton-1fef13be.js";import{r as C,a as h,_ as z,b as G}from"./Pagination-27f50247.js";import L from"./Create-e36769e0.js";import M from"./Edit-89d3a5b3.js";import Q from"./Delete-f8e5e9b5.js";import R from"./DeleteBulk-b83b6aac.js";import{_ as T}from"./Checkbox-43c22e56.js";import"./index-b2f45f9f.js";import"./SecondaryButton-47b38e23.js";const q={class:"space-y-4"},J={class:"px-4 sm:px-0"},K={class:"rounded-lg overflow-hidden w-fit"},W={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},X={class:"flex justify-between p-2"},Y={class:"flex space-x-2"},Z={class:"overflow-x-auto scrollbar-table"},ee={class:"w-full"},se={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},te={class:"dark:bg-gray-900/50 text-left"},ae={class:"px-2 py-4 text-center"},le=s("th",{class:"px-2 py-4 text-center"},"#",-1),re={class:"flex justify-between items-center"},oe=s("span",null,"Name",-1),ne={class:"flex justify-between items-center"},de=s("span",null,"Guard",-1),ie={class:"flex justify-between items-center"},pe=s("span",null,"Created",-1),ce={class:"flex justify-between items-center"},me=s("span",null,"Updated",-1),ue=s("th",{class:"px-2 py-4 sr-only"},"Action",-1),fe={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},_e=["value"],he={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},ye={class:"whitespace-nowrap py-4 px-2 sm:py-3"},be={class:"whitespace-nowrap py-4 px-2 sm:py-3"},we={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ve={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ge={class:"whitespace-nowrap py-4 px-2 sm:py-3"},xe={class:"flex justify-center items-center"},ke={class:"rounded-md overflow-hidden"},$e={class:"flex justify-between items-center p-2 border-t border-gray-200 dark:border-gray-700"},He={__name:"Index",props:{title:String,filters:Object,permissions:Object,breadcrumbs:Object,perPage:Number},setup(u){const o=u,e=I({params:{search:o.filters.search,field:o.filters.field,order:o.filters.order,perPage:o.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,permission:null,dataSet:[{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100}]}),f=r=>{e.params.field=r,e.params.order=e.params.order==="asc"?"desc":"asc"};j(()=>b.exports._.cloneDeep(e.params),b.exports.debounce(()=>{let r=b.exports.pickBy(e.params);V.Inertia.get(route("permission.index"),r,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const O=r=>{var t;r.target.checked===!1?e.selectedId=[]:(t=o.permissions)==null||t.data.forEach(i=>{e.selectedId.push(i.id)})},S=()=>{var r;((r=o.permissions)==null?void 0:r.data.length)==e.selectedId.length?e.multipleSelect=!0:e.multipleSelect=!1};return(r,t)=>{const i=P("tooltip");return d(),w(x,null,[l(n(B),{title:o.title},null,8,["title"]),l(A,null,{default:p(()=>[l(E,{title:u.title,breadcrumbs:u.breadcrumbs},null,8,["title","breadcrumbs"]),s("div",q,[s("div",J,[s("div",K,[c(l(k,{class:"rounded-none",onClick:t[0]||(t[0]=a=>e.createOpen=!0)},{default:p(()=>[D(" Add ")]),_:1},512),[[_,r.can(["create permission"])]]),l(L,{show:e.createOpen,onClose:t[1]||(t[1]=a=>e.createOpen=!1)},null,8,["show"]),l(M,{show:e.editOpen,onClose:t[2]||(t[2]=a=>e.editOpen=!1),permission:e.permission},null,8,["show","permission"]),l(Q,{show:e.deleteOpen,onClose:t[3]||(t[3]=a=>e.deleteOpen=!1),permission:e.permission},null,8,["show","permission"]),l(R,{show:e.deleteBulkOpen,onClose:t[4]||(t[4]=a=>(e.deleteBulkOpen=!1,e.multipleSelect=!1,e.selectedId=[])),selectedId:e.selectedId},null,8,["show","selectedId"])])]),s("div",W,[s("div",X,[s("div",Y,[l(H,{modelValue:e.params.perPage,"onUpdate:modelValue":t[5]||(t[5]=a=>e.params.perPage=a),dataSet:e.dataSet},null,8,["modelValue","dataSet"]),c((d(),v($,{onClick:t[6]||(t[6]=a=>e.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:p(()=>[l(n(C),{class:"w-5 h-5"})]),_:1})),[[_,e.selectedId.length!=0&&r.can(["delete permission"])],[i,"Delete All Selected"]])]),l(F,{modelValue:e.params.search,"onUpdate:modelValue":t[7]||(t[7]=a=>e.params.search=a),type:"text",class:"block w-3/6 md:w-2/6 lg:w-1/6 rounded-lg",placeholder:"Search..."},null,8,["modelValue"])]),s("div",Z,[s("table",ee,[s("thead",se,[s("tr",te,[s("th",ae,[l(T,{checked:e.multipleSelect,"onUpdate:checked":t[8]||(t[8]=a=>e.multipleSelect=a),onChange:O},null,8,["checked"])]),le,s("th",{class:"px-2 py-4 cursor-pointer",onClick:t[9]||(t[9]=a=>f("name"))},[s("div",re,[oe,l(n(h),{class:"w-4 h-4"})])]),s("th",{class:"px-2 py-4 cursor-pointer",onClick:t[10]||(t[10]=a=>f("guard"))},[s("div",ne,[de,l(n(h),{class:"w-4 h-4"})])]),s("th",{class:"px-2 py-4 cursor-pointer",onClick:t[11]||(t[11]=a=>f("created_at"))},[s("div",ie,[pe,l(n(h),{class:"w-4 h-4"})])]),s("th",{class:"px-2 py-4 cursor-pointer",onClick:t[12]||(t[12]=a=>f("updated_at"))},[s("div",ce,[me,l(n(h),{class:"w-4 h-4"})])]),ue])]),s("tbody",null,[(d(!0),w(x,null,N(u.permissions.data,(a,g)=>(d(),w("tr",{key:g,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[s("td",fe,[c(s("input",{class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800",type:"checkbox",onChange:S,value:a.id,"onUpdate:modelValue":t[13]||(t[13]=y=>e.selectedId=y)},null,40,_e),[[U,e.selectedId]])]),s("td",he,m(++g),1),s("td",ye,m(a.name),1),s("td",be,m(a.guard_name),1),s("td",we,m(a.created_at),1),s("td",ve,m(a.updated_at),1),s("td",ge,[s("div",xe,[s("div",ke,[c((d(),v(k,{type:"button",onClick:y=>(e.editOpen=!0,e.permission=a),class:"px-2 py-1.5 rounded-none"},{default:p(()=>[l(n(G),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[_,r.can(["update permission"])],[i,"Edit"]]),c((d(),v($,{type:"button",onClick:y=>(e.deleteOpen=!0,e.permission=a),class:"px-2 py-1.5 rounded-none"},{default:p(()=>[l(n(C),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[_,r.can(["delete permission"])],[i,"Delete"]])])])])]))),128))])])]),s("div",$e,[l(z,{links:o.permissions,filters:e.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{He as default};
