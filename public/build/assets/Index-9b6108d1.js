import{aK as B,bv as V,bl as P,bw as D,f as w,a as r,u as d,w as u,F as k,bx as U,o as i,X as N,b as t,j as p,v as m,d as g,t as n,c as y,aO as T,aQ as A,be as E}from"./app-9172825b.js";import{_ as F,a as J}from"./AuthenticatedLayout-54c2b580.js";import{a as K}from"./TextInput-5fb8cc21.js";import{_ as L}from"./PrimaryButton-5538c6e6.js";import{_ as M,a as Q}from"./InfoButton-aa917aee.js";import{_ as X}from"./SelectInput-79dadcad.js";import{_ as x}from"./DangerButton-6798d286.js";import{T as $,h as _,c as q,P as z}from"./SwitchLangNavbar-6c66c5a2.js";import G from"./Create-31bc27f4.js";import H from"./Edit-a40c1805.js";import R from"./Delete-579d3540.js";import W from"./DeleteBulk-c5f8b3cf.js";import{_ as Y}from"./Checkbox-752cfa95.js";import"./SecondaryButton-d727c941.js";const Z={class:"space-y-4"},ee={class:"px-4 sm:px-0"},te={class:"rounded-lg overflow-hidden w-fit"},se={class:"relative bg-white dark:bg-slate-800 shadow sm:rounded-lg"},le={class:"flex justify-between p-2"},ae={class:"flex space-x-2"},re={class:"overflow-x-auto scrollbar-table"},oe={class:"w-full"},ne={class:"uppercase text-sm border-t border-slate-200 dark:border-slate-700"},de={class:"dark:bg-slate-900/50 text-left"},ie={class:"px-2 py-4 text-center"},pe=t("th",{class:"px-2 py-4 text-center"},"#",-1),ce={class:"flex justify-between items-center"},ue={class:"flex justify-between items-center"},me={class:"px-2 py-4"},fe={class:"flex justify-between items-center"},he={class:"flex justify-between items-center"},_e=t("th",{class:"px-2 py-4 sr-only"},"Action",-1),be={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},we=["value"],ye={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},ve={class:"whitespace-nowrap py-4 px-2 sm:py-3"},ke={class:"flex justify-start items-center"},ge={class:"whitespace-nowrap py-4 px-2 sm:py-3"},xe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},$e={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Oe={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ce={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ie={class:"flex justify-center items-center"},Se={class:"rounded-md overflow-hidden"},je={class:"flex justify-between items-center p-2 border-t border-slate-200 dark:border-slate-700"},Qe={__name:"Index",props:{title:String,filters:Object,users:Object,roles:Object,breadcrumbs:Object,perPage:Number},setup(f){const o=f,{_:O,debounce:C,pickBy:I}=U,e=B({params:{search:o.filters.search,field:o.filters.field,order:o.filters.order,perPage:o.perPage},selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,deleteOpen:!1,deleteBulkOpen:!1,user:null,dataSet:V().props.app.perpage}),h=a=>{e.params.field=a,e.params.order=e.params.order==="asc"?"desc":"asc"};P(()=>O.cloneDeep(e.params),C(()=>{let a=I(e.params);D.get(route("user.index"),a,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const S=a=>{var s;a.target.checked===!1?e.selectedId=[]:(s=o.users)==null||s.data.forEach(c=>{e.selectedId.push(c.id)})},j=()=>{var a;((a=o.users)==null?void 0:a.data.length)==e.selectedId.length?e.multipleSelect=!0:e.multipleSelect=!1};return(a,s)=>{const c=A("tooltip");return i(),w(k,null,[r(d(N),{title:o.title},null,8,["title"]),r(F,null,{default:u(()=>[r(J,{title:f.title,breadcrumbs:f.breadcrumbs},null,8,["title","breadcrumbs"]),t("div",Z,[t("div",ee,[t("div",te,[p(r(L,{class:"rounded-none",onClick:s[0]||(s[0]=l=>e.createOpen=!0)},{default:u(()=>[g(n(a.lang().button.add),1)]),_:1},512),[[m,a.can(["create user"])]]),r(G,{show:e.createOpen,onClose:s[1]||(s[1]=l=>e.createOpen=!1),roles:o.roles,title:o.title},null,8,["show","roles","title"]),r(H,{show:e.editOpen,onClose:s[2]||(s[2]=l=>e.editOpen=!1),user:e.user,roles:o.roles,title:o.title},null,8,["show","user","roles","title"]),r(R,{show:e.deleteOpen,onClose:s[3]||(s[3]=l=>e.deleteOpen=!1),user:e.user,title:o.title},null,8,["show","user","title"]),r(W,{show:e.deleteBulkOpen,onClose:s[4]||(s[4]=l=>(e.deleteBulkOpen=!1,e.multipleSelect=!1,e.selectedId=[])),selectedId:e.selectedId,title:o.title},null,8,["show","selectedId","title"])])]),t("div",se,[t("div",le,[t("div",ae,[r(X,{modelValue:e.params.perPage,"onUpdate:modelValue":s[5]||(s[5]=l=>e.params.perPage=l),dataSet:e.dataSet},null,8,["modelValue","dataSet"]),p((i(),y(x,{onClick:s[6]||(s[6]=l=>e.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:u(()=>[r(d($),{class:"w-5 h-5"})]),_:1})),[[m,e.selectedId.length!=0&&a.can(["delete user"])],[c,a.lang().tooltip.delete_selected]])]),r(K,{modelValue:e.params.search,"onUpdate:modelValue":s[7]||(s[7]=l=>e.params.search=l),type:"text",class:"block w-3/6 md:w-2/6 lg:w-1/6 rounded-lg",placeholder:a.lang().placeholder.search},null,8,["modelValue","placeholder"])]),t("div",re,[t("table",oe,[t("thead",ne,[t("tr",de,[t("th",ie,[r(Y,{checked:e.multipleSelect,"onUpdate:checked":s[8]||(s[8]=l=>e.multipleSelect=l),onChange:S},null,8,["checked"])]),pe,t("th",{class:"px-2 py-4 cursor-pointer",onClick:s[9]||(s[9]=l=>h("name"))},[t("div",ce,[t("span",null,n(a.lang().label.name),1),r(d(_),{class:"w-4 h-4"})])]),t("th",{class:"px-2 py-4 cursor-pointer",onClick:s[10]||(s[10]=l=>h("email"))},[t("div",ue,[t("span",null,n(a.lang().label.email),1),r(d(_),{class:"w-4 h-4"})])]),t("th",me,n(a.lang().label.role),1),t("th",{class:"px-2 py-4 cursor-pointer",onClick:s[11]||(s[11]=l=>h("created_at"))},[t("div",fe,[t("span",null,n(a.lang().label.created),1),r(d(_),{class:"w-4 h-4"})])]),t("th",{class:"px-2 py-4 cursor-pointer",onClick:s[12]||(s[12]=l=>h("updated_at"))},[t("div",he,[t("span",null,n(a.lang().label.updated),1),r(d(_),{class:"w-4 h-4"})])]),_e])]),t("tbody",null,[(i(!0),w(k,null,T(f.users.data,(l,v)=>(i(),w("tr",{key:v,class:"border-t border-slate-200 dark:border-slate-700 hover:bg-slate-200/30 hover:dark:bg-slate-900/20"},[t("td",be,[p(t("input",{class:"rounded dark:bg-slate-900 border-slate-300 dark:border-slate-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-slate-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:j,value:l.id,"onUpdate:modelValue":s[13]||(s[13]=b=>e.selectedId=b)},null,40,we),[[E,e.selectedId]])]),t("td",ye,n(++v),1),t("td",ve,[t("span",ke,[g(n(l.name)+" ",1),p(r(d(q),{class:"ml-[2px] w-4 h-4 text-primary dark:text-white"},null,512),[[m,l.email_verified_at]])])]),t("td",ge,n(l.email),1),t("td",xe,n(l.roles.length==0?"not selected":l.roles[0].name),1),t("td",$e,n(l.created_at),1),t("td",Oe,n(l.updated_at),1),t("td",Ce,[t("div",Ie,[t("div",Se,[p((i(),y(Q,{type:"button",onClick:b=>(e.editOpen=!0,e.user=l),class:"px-2 py-1.5 rounded-none"},{default:u(()=>[r(d(z),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[m,a.can(["update user"])],[c,a.lang().tooltip.edit]]),p((i(),y(x,{type:"button",onClick:b=>(e.deleteOpen=!0,e.user=l),class:"px-2 py-1.5 rounded-none"},{default:u(()=>[r(d($),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[m,a.can(["delete user"])],[c,a.lang().tooltip.delete]])])])])]))),128))])])]),t("div",je,[r(M,{links:o.users,filters:e.params},null,8,["links","filters"])])])])]),_:1})],64)}}};export{Qe as default};
